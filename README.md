# Tasken-san

小学生向けの「毎日のタスク継続」を支援する PWA「Tasken-san」を `index.html` 1 ファイルで作るための仕様メモ。

## 目的

- 片付け・宿題・お手伝いなどの毎日タスクを続けられるようにする
- その日のタスクを完了したら、ミニゲームでごほうび
- 子どもが自分で使える、シンプルで楽しい UI

## 前提・制約

- `index.html` のみで完結（HTML/CSS/JS すべて内包）
- オフラインで動作
- 端末にインストールできる（PWA）
- データは端末内に保存（ローカル保存）
- タブレットでの利用を前提（横持ち前提）

## タブレット前提の UI 要件

- タッチ操作が中心（ホバー無し）
- 画面サイズは 9〜11 インチ想定
- 1 画面に収まる情報量を重視（スクロールは最小限）
- ボタンは大きく、誤タップしにくい間隔
- 横持ちで一覧性と操作性を両立

## ユーザー像

- 小学生（読みやすい文字・大きいボタン）
- 保護者（タスク内容の設定）

## 画面構成（想定）

1. 今日のタスク画面（メイン）
   - タスク一覧（完了チェック）
   - 進捗バー
   - 完了で「ごほうび」解放
2. タスク設定画面
   - 既定タスクの確認
   - タスク名の追加・編集・削除
   - タスクのアイコン選択（Lucide）
3. ミニゲーム画面
   - かんたんなタップ/クリック系ゲーム
   - 1 日の完了時のみプレイ可能

## タスク仕様

- 既定タスク例
  - 片付け
  - 宿題
  - お手伝い
- タスクは「毎日リセット」
- 1 日分の完了状況を保存
- 完了済みは大きなチェックでわかりやすく
- タスクごとにアイコンを設定可能（Lucide）

## ごほうび（ミニゲーム）仕様

- その日のタスクがすべて完了したらプレイ可能
- プレイ可能になるまでロック表示
- プレイ回数は 1 日 3 回まで
- 残りプレイ回数を表示
- その日のプレイ終了時にスコアを表示
- 最高得点を保存してトップ画面に表示

## データ保存

- `localStorage` を使用
- 保存内容
  - タスク一覧（id, name, icon）
  - 今日の完了状態（date, completedTaskIds）
  - ミニゲーム回数（gamePlaysDay, gamePlaysCount）
  - 最高得点（bestScore）

## 日付リセット

- アプリ起動時に「今日の日付」と保存日付を比較
- 日付が変わっていたら完了状態をリセット

## PWA 要件（`index.html`内で完結）

- `manifest` を data URL で埋め込み
- `service worker` を Blob で生成して登録
- 可能な範囲でキャッシュしてオフライン対応
- 画面左上のアイコンは `icon.svg` を使用

## ミニゲーム仕様

- サンタがプレゼントを集めるゲーム
- プレゼントはランダムな位置に出現
- タッチでプレゼントを獲得
- タッチした場所にサンタが移動
- 制限時間は 10 秒

## UI/UX の方針

- ひらがな中心 + かんたんな漢字
- 大きいボタン、強いコントラスト
- 成功時にアニメーションや効果音
- プライマリーは黄緑、セカンダリーは水色
- グラデーションを使ったモダンな見た目

## 未決定事項

- 追加のごほうび（バッジ/連続達成など）
